<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div>
        已选中:<input type="radio" name="r" id="o">
        未选中:<input type="radio" name="r" id="o2">
    </div>
    <ul id="ul">
        <!-- <li><input type="checkbox" /></li>
        <li><input type="checkbox" /></li>
        <li><input type="checkbox" checked/></li> -->
    </ul>
    <button id="go">筛选</button>
    <script>
        /*
            checkbox的勾选通过checked这个属性去修改
    
            需求:
                1.把下面的数组生成li input checkbox,并且通过
                布尔值来操作是否选中
                let i = false;
               `<li><input type="checkbox" ${i?'checked':''}/></li>`;
    
                2.当点击筛选的时候，过滤出已选中的数据，或者未选中的数据
        */
    /*
        // box.checked = false; 
        // const ul = document.getElementById('ul');
        // const o = document.getElementById('o');
        // const o2 = document.getElementById('o2');
        // const go = document.getElementById('go');
        
        let arr = [true, true, false, false, true, false, true];

        // for (let i = 0; i < arr.length; i++) {
        //     ul.innerHTML += `<li><input type="checkbox" ${arr[i] ? 'checked' : ''}/></li>`;
        // }
        let html = '';  //声明空字符串用于后续获取结构内容
        // 通过forEach 循环生成元素 li input  给到html
        arr.forEach(function (item, i, all) {
            html += `<li><input type="checkbox" ${item ? 'checked' : ''}/></li>`;

        })
        ul.innerHTML = html; //把循环之后得到的html一次性 给到ul，渲染页面,放到for外面可节省时间


        
        go.onclick = function () {
            //点击筛选按钮，如果已选中按钮被选中，则过滤出打勾的复选框并且渲染到页面上
            if (o.checked) {
                let arr2 = arr.filter(function (item) {
                    return item;

                })
               
                let html = '';
                arr2.forEach(function (item, i, all) {
                    html += `<li><input type="checkbox" ${item ? 'checked' : ''}/></li>`;

                })
                ul.innerHTML = html;

                console.log(arr2);
            }
            //点击筛选按钮，如果未选中按钮被选中，则过滤出未打勾的复选框并且渲染到页面上
            if (o2.checked) {
                let arr3 = arr.filter(function (item) {
                    return !item;

                })
                let html = '';
                arr3.forEach(function (item, i, all) {
                    html += `<li><input type="checkbox" ${item ? 'checked' : ''}/></li>`;

                })
                ul.innerHTML = html;
                console.log(arr3);
            }


            console.log(o.checked,o2.checked);


        }
    */

        // //优化代码
        let arr = [true, true, false, false, true, false, true];

       
        // 通过forEach 循环生成元素 li input  给到html
        function fn(arr){
            let html = '';  //声明空字符串用于后续获取结构内容
            arr.forEach(function (item, i, all) {
            html += `<li><input type="checkbox" ${item ? 'checked' : ''}/></li>`;

        })
        ul.innerHTML = html; //把循环之后得到的html一次性 给到ul，渲染页面,放到for外面可节省时间
        }
        fn(arr);
        go.onclick = function () {
            //点击筛选按钮，如果已选中按钮被选中，则过滤出打勾的复选框并且渲染到页面上
            if (o.checked) {
                let arr2 = arr.filter(function (item) {return item;})
                fn(arr2);
            }
            //点击筛选按钮，如果未选中按钮被选中，则过滤出未打勾的复选框并且渲染到页面上
            if (o2.checked) {
                let arr3 = arr.filter(function (item) {return !item;})
                fn(arr3);
            }


        }

    </script>
</body>

</html>